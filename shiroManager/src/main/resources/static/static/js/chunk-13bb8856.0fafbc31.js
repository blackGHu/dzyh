(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13bb8856"],{aa81:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",{staticStyle:{height:"100%"}},[o("el-main",[o("el-row",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",{attrs:{label:"类别"}},[o("el-select",{attrs:{placeholder:"类别"},model:{value:e.form.type.value,callback:function(t){e.$set(e.form.type,"value",t)},expression:"form.type.value"}},e._l(e.form.type.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"物品名称"}},[o("el-input",{attrs:{placeholder:"物品名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"规格"}},[o("el-input",{attrs:{placeholder:"规格"},model:{value:e.form.norm,callback:function(t){e.$set(e.form,"norm",t)},expression:"form.norm"}})],1),o("el-form-item",{attrs:{label:"型号"}},[o("el-input",{attrs:{placeholder:"型号"},model:{value:e.form.pattern,callback:function(t){e.$set(e.form,"pattern",t)},expression:"form.pattern"}})],1)],1)],1),o("el-row",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",{attrs:{label:"用途"}},[o("el-select",{attrs:{placeholder:"用途"},model:{value:e.form.use.value,callback:function(t){e.$set(e.form.use,"value",t)},expression:"form.use.value"}},e._l(e.form.use.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"申请日期"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择申请日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),o("el-form-item",{attrs:{label:"操作"}},[o("el-select",{attrs:{placeholder:"操作"},model:{value:e.form.operator,callback:function(t){e.$set(e.form,"operator",t)},expression:"form.operator"}},e._l(e.form.operator.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"状态"}},[o("el-select",{attrs:{placeholder:"状态"},model:{value:e.form.statue.value,callback:function(t){e.$set(e.form.statue,"value",t)},expression:"form.statue.value"}},e._l(e.form.statue.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),o("el-row",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",[o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.search(1)}}},[e._v("查询")])],1)],1)],1),o("el-row",[o("el-col",{attrs:{span:20}},[o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData,stripe:""}},[o("el-table-column",{attrs:{prop:"type",label:"类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[e._v(e._s(t.row.remark))]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[o("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.type))])],1)])]}}])}),o("el-table-column",{attrs:{prop:"name",label:"名称"}}),o("el-table-column",{attrs:{prop:"norm",label:"规格"}}),o("el-table-column",{attrs:{prop:"pattern",label:"型号"}}),o("el-table-column",{attrs:{prop:"use",label:"用途"}}),o("el-table-column",{attrs:{prop:"number",label:"数量/个"}}),o("el-table-column",{attrs:{prop:"formdate",label:"领用日期"}}),o("el-table-column",{attrs:{prop:"todate",label:"归还日期"}}),o("el-table-column",{attrs:{prop:"operator",label:"操作"}}),o("el-table-column",{attrs:{prop:"check_result",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:t.row.checker_result.type,plain:""}},[e._v(e._s(t.row.checker_result.value))])]}}])})],1)],1)],1)],1),o("el-footer",[o("el-pagination",{attrs:{background:"","page-size":e.page_size,layout:"prev, pager, next",total:e.total_info},on:{"current-change":e.search}})],1)],1)},r=[],n=(o("b0c0"),o("c40e")),l=o("c24f"),s={name:"GoodsApplyRecord",data:function(){return{user:"",form:{name:"",norm:"",pattern:"",date:"",use:{value:"",options:[]},type:{value:"",options:[]},operator:{value:"",options:[]},statue:{value:"",options:[]}},page_size:5,total_info:5,tableData:[]}},created:function(){var e=this;Object(l["b"])().then((function(t){e.user=t.obj})).catch((function(e){console.log(e)})),this.$notify({title:"提示",message:"请到教三-222领取已通过审批的物品",duration:0}),this.form.use.options=[{value:"竞赛",label:"竞赛"},{value:"实验",label:"实验"},{value:"创新",label:"创新"}],this.form.type.options=Object(n["m"])(),this.form.operator.options=[{value:"0",label:"借用"},{value:"1",label:"领用"},{value:"2",label:"归还"},{value:"3",label:"报废"}],this.form.statue.options=[{value:"0",label:"待审批"},{value:"1",label:"通过"},{value:"2",label:"拒绝"}]},methods:{ConvertConditions:function(e){var t={repertoryName:e.name,repertorySize:e.norm,repertoryModel:e.pattern,borrowTime:e.date,returnTime:"",categoryName:e.type.value,purposeName:e.use.value,applyUserName:this.user.userName,approvalUserName:"",goodsUseStatus:e.operator.value,goodsApprovalStatus:e.statue.value};return t},ConvertTableData:function(e){for(var t={0:{type:"warning",value:"待审批"},1:{type:"success",value:"通过"},2:{type:"danger",value:"拒绝"}},o={0:"借用",1:"领用",2:"归还",3:"报废"},a=[],r=0;r<e.length;r++){var n=e[r];a[r]={type:n.categoryName,name:n.repertoryName,norm:n.repertorySize,pattern:n.repertoryModel,use:n.purposeName,number:100,formdate:n.borrowTime,todate:n.returnTime,checker_result:{type:t[n.goodsApprovalStatus].type,value:t[n.goodsApprovalStatus].value},operator:o[n.goodsUseStatus],remark:"不知道是啥"}}return a},search:function(e){var t=this,o=this.ConvertConditions(this.form);console.log(o),console.log(e),Object(n["g"])(e,this.page_size,o).then((function(e){console.log(e),t.total_info=e.obj.total,t.tableData=t.ConvertTableData(e.obj.goodsList)})).catch((function(e){console.log(e)}))},errorMessage:function(e){this.$message({message:e,type:"warning"})},successMessage:function(e){this.$message({message:e,type:"success"})}}},u=s,c=o("2877"),p=Object(c["a"])(u,a,r,!1,null,"027fa456",null);t["default"]=p.exports},c40e:function(e,t,o){"use strict";o.d(t,"i",(function(){return r})),o.d(t,"j",(function(){return n})),o.d(t,"h",(function(){return l})),o.d(t,"n",(function(){return s})),o.d(t,"e",(function(){return u})),o.d(t,"a",(function(){return c})),o.d(t,"d",(function(){return p})),o.d(t,"f",(function(){return i})),o.d(t,"g",(function(){return d})),o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return f})),o.d(t,"k",(function(){return b})),o.d(t,"l",(function(){return y})),o.d(t,"m",(function(){return h}));o("99af");var a=o("b775");function r(e){return Object(a["a"])({url:"/dzyh/goods/insert",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function n(e,t,o){return Object(a["a"])({url:"/dzyh/information/selectAllByCondition/".concat(e,"/").concat(t),method:"post",data:o,headers:{"Content-Type":"application/json"}})}function l(e){return Object(a["a"])({url:"/dzyh/information/deleteInformationById",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function s(e){return Object(a["a"])({url:"/dzyh/information/updateInformation",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function u(e){return Object(a["a"])({url:"/dzyh/goodsApply/scrapApply",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function c(e){return Object(a["a"])({url:"/dzyh/goodsApply/goodsApply",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function p(e){return Object(a["a"])({url:"/dzyh/goodsApply/deleteByGoodsApplyId?orderId=".concat(e),method:"post",headers:{"Content-Type":"application/json"}})}function i(e,t,o){return Object(a["a"])({url:"/dzyh/goodsApply/selectAllByPage/".concat(e,"/").concat(t),method:"post",data:o,headers:{"Content-Type":"application/json"}})}function d(e,t,o){return Object(a["a"])({url:"/dzyh/goodsApply/selectPersonalByPage/".concat(e,"/").concat(t),method:"post",data:o,headers:{"Content-Type":"application/json"}})}function m(e,t,o){return Object(a["a"])({url:"/dzyh/goodsApply/doNormalGoodsApplyApprove?orderId=".concat(e,"&approvalUserName=").concat(t,"&goodsApprovalStatus=").concat(o),method:"post",headers:{"Content-Type":"application/json"}})}function f(e,t){return Object(a["a"])({url:"/dzyh/goodsApply/doSpecialGoodsApplyApprove?orderId=".concat(e,"&goodsUseStatus=").concat(t),method:"post",headers:{"Content-Type":"application/json"}})}function b(e){return Object(a["a"])({url:"/dzyh/category/insertCategory",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function y(e){return Object(a["a"])({url:"/dzyh/category/deleteCategoryById?categoryId=".concat(e),method:"get",headers:{"Content-Type":"application/json"}})}function h(){var e=[];return Object(a["a"])({url:"/dzyh/category/selectAllCategory",method:"post",headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t);for(var o=0;o<t.obj.length;o++)e.push({id:t.obj[o].categoryId,value:t.obj[o].categoryName,label:t.obj[o].categoryName})})).catch((function(e){console.log("出错"+e)})),e}}}]);