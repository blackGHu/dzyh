(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6134ca0c"],{"49de":function(e,t,a){"use strict";a.d(t,"i",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"j",(function(){return n})),a.d(t,"h",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return c})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return f}));a("99af");var l=a("b775");function o(e,t,a){return Object(l["a"])({url:"/dzyh/materialList//selectAllMaterialListByPage/".concat(e,"/").concat(t),method:"post",data:a,headers:{"Content-Type":"application/json"}})}function r(e){return Object(l["a"])({url:"/dzyh/materialList/insertMaterialList",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function n(e){return Object(l["a"])({url:"/dzyh/materialList/updateMaterialList",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function s(e){return Object(l["a"])({url:"/dzyh/materialList/deletByMaterialListId?materialListId=".concat(e),method:"post",headers:{"Content-Type":"application/json"}})}function i(e){return Object(l["a"])({url:"/dzyh/materialList/materialListApply",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function c(e,t,a){return Object(l["a"])({url:"/dzyh/materialList/selectAllMaterialListOrderByPage/".concat(e,"/").concat(t),method:"post",data:a,headers:{"Content-Type":"application/json"}})}function p(e){return Object(l["a"])({url:"/dzyh/materialList/deletByMaterialListOrderId?materialListOrderId=".concat(e),method:"post",headers:{"Content-Type":"application/json"}})}function u(e,t){return Object(l["a"])({url:"/dzyh/materialList/doMaterialListOrderApprove?materialListOrderId=".concat(e,"&goodsApprovalStatue=").concat(t),method:"post",headers:{"Content-Type":"application/json"}})}function m(){var e=[];return Object(l["a"])({url:"/dzyh/college/selectAllCollege",method:"post",headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t);for(var a=0;a<t.obj.length;a++)e.push({id:t.obj[a].collegeId,value:t.obj[a].collegeName,label:t.obj[a].collegeName})})).catch((function(e){console.log("出错"+e)})),e}function f(){var e=[];return Object(l["a"])({url:"/dzyh/major/selectAllMajor",method:"post",headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t);for(var a=0;a<t.obj.length;a++)e.push({id:t.obj[a].majorId,value:t.obj[a].majorName,label:t.obj[a].majorName})})).catch((function(e){console.log("出错"+e)})),e}},a435:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"100%"},attrs:{id:"stock_info"}},[a("el-main",[a("el-row",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"学院"}},[a("el-select",{attrs:{placeholder:"选择"},model:{value:e.form.department.value,callback:function(t){e.$set(e.form.department,"value",t)},expression:"form.department.value"}},e._l(e.form.department.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"专业"}},[a("el-select",{attrs:{placeholder:"选择"},model:{value:e.form.specialty.value,callback:function(t){e.$set(e.form.specialty,"value",t)},expression:"form.specialty.value"}},e._l(e.form.specialty.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"课程"}},[a("el-input",{attrs:{placeholder:"课程"},model:{value:e.form.course,callback:function(t){e.$set(e.form,"course",t)},expression:"form.course"}})],1),a("el-form-item",{attrs:{label:"班级"}},[a("el-input",{attrs:{placeholder:"班级号"},model:{value:e.form.class,callback:function(t){e.$set(e.form,"class",t)},expression:"form.class"}})],1)],1)],1),a("el-row",[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.search(1)}}},[e._v("查询")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:20}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"department",label:"学院"}}),a("el-table-column",{attrs:{prop:"specialty",label:"专业"}}),a("el-table-column",{attrs:{prop:"course",label:"课程"}}),a("el-table-column",{attrs:{prop:"teacher",label:"教师"}}),a("el-table-column",{attrs:{prop:"class",label:"班级"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){e.apply.form=t.row,e.apply.visible=!0}}},[e._v("申请")])]}}])})],1)],1)],1)],1),a("el-footer",[a("el-pagination",{attrs:{background:"","page-size":e.page_size,layout:"prev, pager, next",total:e.total_info},on:{"current-change":e.search}})],1),a("el-dialog",{attrs:{title:"料单",visible:e.apply.visible},on:{"update:visible":function(t){return e.$set(e.apply,"visible",t)}}},[a("el-form",{attrs:{model:e.apply.form}},[a("el-form-item",{attrs:{label:"学院"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.apply.form.department,callback:function(t){e.$set(e.apply.form,"department",t)},expression:"apply.form.department"}})],1),a("el-form-item",{attrs:{label:"专业"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.apply.form.specialty,callback:function(t){e.$set(e.apply.form,"specialty",t)},expression:"apply.form.specialty"}})],1),a("el-form-item",{attrs:{label:"课程"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.apply.form.course,callback:function(t){e.$set(e.apply.form,"course",t)},expression:"apply.form.course"}})],1),a("el-form-item",{attrs:{label:"教师"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.apply.form.teacher,callback:function(t){e.$set(e.apply.form,"teacher",t)},expression:"apply.form.teacher"}})],1),a("el-form-item",{attrs:{label:"班级"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.apply.form.class,callback:function(t){e.$set(e.apply.form,"class",t)},expression:"apply.form.class"}})],1),a("el-form-item",{attrs:{label:"料单"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.apply.form.material,callback:function(t){e.$set(e.apply.form,"material",t)},expression:"apply.form.material"}})],1),a("el-form-item",{attrs:{label:"数量"}},[a("el-input-number",{attrs:{step:1},model:{value:e.apply.number,callback:function(t){e.$set(e.apply,"number",t)},expression:"apply.number"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.apply.visible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit_apply}},[e._v("确 定")])],1)],1)],1)},o=[],r=a("49de"),n=a("c24f"),s={name:"MaterialSheetManager",data:function(){return{user:"",page_size:5,total_info:5,form:{department:{value:"",options:[]},specialty:{value:"",options:[]},course:"",teacher:"",class:""},apply:{visible:!1,form:"",number:1},tableData:[]}},created:function(){var e=this;Object(n["b"])().then((function(t){e.user=t.obj})).catch((function(e){console.log(e)})),this.form.department.options=Object(r["a"])(),this.form.specialty.options=Object(r["b"])()},methods:{ConvertConditions:function(e){var t={collegeName:e.department.value,majorName:e.specialty.value,courseName:e.course,className:e.class};return t},ConvertTableData:function(e){for(var t=[],a=0;a<e.length;a++){var l=e[a];t[a]={id:l.materialListId,department:l.collegeName,specialty:l.majorName,course:l.courseName,class:l.className,teacher:l.teacherName,material:l.orderDescribe}}return t},search:function(e){var t=this,a=this.ConvertConditions(this.form);console.log(a),console.log(e),Object(r["i"])(e,this.page_size,a).then((function(e){console.log(e),t.total_info=e.obj.total,t.tableData=t.ConvertTableData(e.obj.materialLists)})).catch((function(e){console.log(e)}))},submit_apply:function(){var e=this,t={collegeName:this.apply.form.department,majorName:this.apply.form.specialty,courseName:this.apply.form.course,className:this.apply.form.class,orderDescribe:this.apply.form.material,teacherName:this.apply.form.teacher,applyNumber:this.apply.number,applyUserName:this.user.userName};Object(r["d"])(t).then((function(t){console.log(t),e.successMessage(t.resultMessage)})).catch((function(e){console.log(e)})),console.log(t)},errorMessage:function(e){this.$message({message:e,type:"warning"})},successMessage:function(e){this.$message({message:e,type:"success"})}}},i=s,c=a("2877"),p=Object(c["a"])(i,l,o,!1,null,"145bb60c",null);t["default"]=p.exports}}]);