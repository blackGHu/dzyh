(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c062494c"],{3038:function(e,t,o){"use strict";o.d(t,"c",(function(){return n})),o.d(t,"d",(function(){return a})),o.d(t,"e",(function(){return s})),o.d(t,"b",(function(){return l})),o.d(t,"h",(function(){return i})),o.d(t,"g",(function(){return u})),o.d(t,"f",(function(){return c})),o.d(t,"i",(function(){return p})),o.d(t,"a",(function(){return d}));o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d");var r=o("b775");function n(e){Object(r["a"])({url:"/dzyh/manager/getRegistTemp",responseType:"blob",method:"post"}).then((function(t){m(t,e)}))}function a(e,t){Object(r["a"])({url:"/dzyh/manager/userFile",responseType:"blob",method:"post",data:e}).then((function(e){m(e,t)}))}function s(e,t){Object(r["a"])({url:"/dzyh/manager/userInfoFile",responseType:"blob",method:"post",data:e}).then((function(e){m(e,t)}))}function l(e){Object(r["a"])({url:"/dzyh/goods/downLoadGoodsApplyTemplate",responseType:"blob",method:"post"}).then((function(t){m(t,e)}))}function i(e,t){Object(r["a"])({url:"/dzyh/information/underStockFile",responseType:"blob",method:"post",data:e}).then((function(e){m(e,t)}))}function u(e,t){Object(r["a"])({url:"/dzyh/information/informationFile",responseType:"blob",method:"post",data:e}).then((function(e){m(e,t)}))}function c(e,t){Object(r["a"])({url:"/dzyh/goodsApply/generateExcel?fileName=".concat(t),responseType:"blob",method:"post",data:e}).then((function(e){m(e,t)}))}function p(e,t){Object(r["a"])({url:"/dzyh/materialList/generateMaterialListExcel?fileName=".concat(t),responseType:"blob",method:"post",data:e}).then((function(e){m(e,t)}))}function d(){Object(r["a"])({url:"/dzyh/super/exportSQL",responseType:"blob",method:"post"}).then((function(e){m(e,"dzyh.sql")}))}function m(e,t){if(e){var o=new Blob([e]);if("download"in document.createElement("a")){var r=document.createElement("a");r.download=t,r.style.display="none",r.href=URL.createObjectURL(o),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}else navigator.msSaveBlob(o,t)}}},baa5:function(e,t,o){var r=o("23e7"),n=o("e58c");r({target:"Array",proto:!0,forced:n!==[].lastIndexOf},{lastIndexOf:n})},c40e:function(e,t,o){"use strict";o.d(t,"i",(function(){return n})),o.d(t,"j",(function(){return a})),o.d(t,"h",(function(){return s})),o.d(t,"n",(function(){return l})),o.d(t,"e",(function(){return i})),o.d(t,"a",(function(){return u})),o.d(t,"d",(function(){return c})),o.d(t,"f",(function(){return p})),o.d(t,"g",(function(){return d})),o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return f})),o.d(t,"k",(function(){return b})),o.d(t,"l",(function(){return h})),o.d(t,"m",(function(){return y}));o("99af");var r=o("b775");function n(e){return Object(r["a"])({url:"/dzyh/goods/insert",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function a(e,t,o){return Object(r["a"])({url:"/dzyh/information/selectAllByCondition/".concat(e,"/").concat(t),method:"post",data:o,headers:{"Content-Type":"application/json"}})}function s(e){return Object(r["a"])({url:"/dzyh/information/deleteInformationById",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function l(e){return Object(r["a"])({url:"/dzyh/information/updateInformation",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function i(e){return Object(r["a"])({url:"/dzyh/goodsApply/scrapApply",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function u(e){return Object(r["a"])({url:"/dzyh/goodsApply/goodsApply",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function c(e){return Object(r["a"])({url:"/dzyh/goodsApply/deleteByGoodsApplyId?orderId=".concat(e),method:"post",headers:{"Content-Type":"application/json"}})}function p(e,t,o){return Object(r["a"])({url:"/dzyh/goodsApply/selectAllByPage/".concat(e,"/").concat(t),method:"post",data:o,headers:{"Content-Type":"application/json"}})}function d(e,t,o){return Object(r["a"])({url:"/dzyh/goodsApply/selectPersonalByPage/".concat(e,"/").concat(t),method:"post",data:o,headers:{"Content-Type":"application/json"}})}function m(e,t,o){return Object(r["a"])({url:"/dzyh/goodsApply/doNormalGoodsApplyApprove?orderId=".concat(e,"&approvalUserName=").concat(t,"&goodsApprovalStatus=").concat(o),method:"post",headers:{"Content-Type":"application/json"}})}function f(e,t){return Object(r["a"])({url:"/dzyh/goodsApply/doSpecialGoodsApplyApprove?orderId=".concat(e,"&goodsUseStatus=").concat(t),method:"post",headers:{"Content-Type":"application/json"}})}function b(e){return Object(r["a"])({url:"/dzyh/category/insertCategory",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function h(e){return Object(r["a"])({url:"/dzyh/category/deleteCategoryById?categoryId=".concat(e),method:"get",headers:{"Content-Type":"application/json"}})}function y(){var e=[];return Object(r["a"])({url:"/dzyh/category/selectAllCategory",method:"post",headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t);for(var o=0;o<t.obj.length;o++)e.push({id:t.obj[o].categoryId,value:t.obj[o].categoryName,label:t.obj[o].categoryName})})).catch((function(e){console.log("出错"+e)})),e}},e272:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-tabs",{staticStyle:{height:"100%"},attrs:{type:"border-card"}},[o("el-tab-pane",{attrs:{label:"单条录入"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form",{ref:"form",attrs:{rules:e.rules,"label-position":e.labelPosition,model:e.form,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"类别",prop:"type"}},[o("el-select",{attrs:{placeholder:"请选择类别"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.form.type_option,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"名称",prop:"name"}},[o("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"规格",prop:"norm"}},[o("el-input",{model:{value:e.form.norm,callback:function(t){e.$set(e.form,"norm",t)},expression:"form.norm"}})],1),o("el-form-item",{attrs:{label:"型号",prop:"pattern"}},[o("el-input",{model:{value:e.form.pattern,callback:function(t){e.$set(e.form,"pattern",t)},expression:"form.pattern"}})],1),o("el-form-item",{attrs:{label:"单价/元"}},[o("el-input-number",{attrs:{precision:2,step:.01},on:{blur:e.setZero},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),o("el-form-item",{attrs:{label:"数量/个"}},[o("el-input-number",{attrs:{step:1},on:{blur:e.setZero},model:{value:e.form.number,callback:function(t){e.$set(e.form,"number",t)},expression:"form.number"}})],1),o("el-form-item",{attrs:{label:"购买人",prop:"buyer"}},[o("el-input",{model:{value:e.form.buyer,callback:function(t){e.$set(e.form,"buyer",t)},expression:"form.buyer"}})],1),o("el-form-item",{attrs:{label:"入库日期",prop:"date"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),o("el-form-item",{attrs:{label:"权限",prop:"purview"}},[o("el-select",{attrs:{placeholder:"请选择权限"},model:{value:e.form.purview,callback:function(t){e.$set(e.form,"purview",t)},expression:"form.purview"}},e._l(e.form.purview_option,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"用途",prop:"use"}},[o("el-select",{attrs:{placeholder:"请选择权限"},model:{value:e.form.use,callback:function(t){e.$set(e.form,"use",t)},expression:"form.use"}},e._l(e.form.use_option,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"存放地",prop:"storehouse"}},[o("el-input",{model:{value:e.form.storehouse,callback:function(t){e.$set(e.form,"storehouse",t)},expression:"form.storehouse"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add("form")}}},[e._v("立即创建")]),o("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)],1),o("el-tab-pane",{attrs:{label:"批量录入"}},[o("el-row",[o("el-button",{on:{click:e.downloadGoodsTemp}},[e._v("下载模板")])],1),o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"http://42030q8o13.wicp.vip/dzyh/goods/insertBatchByFile",accept:".xls,.xlsx","with-credentials":!0,"before-upload":e.beforeAvatarUpload}},[o("i",{staticClass:"el-icon-upload"}),o("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),o("em",[e._v("点击上传")])]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xls/xlsx文件,小于5MB")])])],1)],1)},n=[],a=(o("baa5"),o("b0c0"),o("3038")),s=o("c40e"),l={name:"GoodsAdd",data:function(){return{labelPosition:"left",rules:{type:[{required:!0,message:"请输入",trigger:"blur"}],name:[{required:!0,message:"请输入",trigger:"blur"}],norm:[{required:!0,message:"请输入",trigger:"blur"}],pattern:[{required:!0,message:"请输入",trigger:"blur"}],buyer:[{required:!0,message:"请输入",trigger:"blur"}],purview:[{required:!0,message:"请输入",trigger:"blur"}],storehouse:[{required:!0,message:"请输入",trigger:"blur"}],use:[{required:!0,message:"请输入",trigger:"blur"}],date:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}]},form:{type:"",name:"",norm:"",pattern:"",price:1,number:1,buyer:"",date:"",purview:"",storehouse:"",use:"",type_option:[],purview_option:[],use_option:[]}}},created:function(){this.form.type_option=Object(s["m"])(),this.form.purview_option=[{label:"教师",value:"教师"},{label:"学生",value:"学生"},{label:"教师,学生",value:"教师,学生"}],this.form.use_option=[{label:"竞赛",value:"竞赛"},{label:"实验",value:"实验"},{label:"创新",value:"创新"}]},methods:{setZero:function(){""!==this.price&&null!=this.price||(this.price=0),""!==this.number&&null!=this.number||(this.number=0)},add:function(e){var t=this,o={goodsName:this.form.name,goodsSize:this.form.norm,goodsModel:this.form.pattern,goodsPrice:this.form.price,goodsNumbers:this.form.number,goodsAddress:this.form.storehouse,categoryName:this.form.type,purposeName:this.form.use,buyUserName:this.form.buyer,roleName:this.form.purview,storageTime:this.form.date};console.log(o),this.$refs[e].validate((function(e){e?Object(s["i"])(o).then((function(e){t.successMessage(e.resultMessage)})).catch((function(e){console.log(e)})):t.errorMessage("输入不合法")}))},reset:function(){this.form.type="",this.form.name="",this.form.norm="",this.form.pattern="",this.form.price=0,this.form.number=0,this.form.buyer="",this.form.date="",this.form.purview="",this.form.storehouse=""},beforeAvatarUpload:function(e){var t=e.name.substring(e.name.lastIndexOf(".")+1),o="xls"===t,r="xlsx"===t,n=e.size/1024/1024<5;return o||r||this.$message({message:"上传文件只能是 xls、xlsx格式!",type:"warning"}),n||this.$message({message:"上传文件大小不能超过 5MB!",type:"warning"}),o||r&&n},downloadGoodsTemp:function(){console.log("temp"),Object(a["b"])("商品模板.xlsx")},errorMessage:function(e){this.$message({message:e,type:"warning"})},successMessage:function(e){this.$message({message:e,type:"success"})}}},i=l,u=o("2877"),c=Object(u["a"])(i,r,n,!1,null,"d98a2d20",null);t["default"]=c.exports},e58c:function(e,t,o){"use strict";var r=o("fc6a"),n=o("a691"),a=o("50c4"),s=o("a640"),l=o("ae40"),i=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,p=s("lastIndexOf"),d=l("indexOf",{ACCESSORS:!0,1:0}),m=c||!p||!d;e.exports=m?function(e){if(c)return u.apply(this,arguments)||0;var t=r(this),o=a(t.length),s=o-1;for(arguments.length>1&&(s=i(s,n(arguments[1]))),s<0&&(s=o+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:u}}]);