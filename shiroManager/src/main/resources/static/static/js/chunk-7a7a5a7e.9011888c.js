(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a7a5a7e"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14c3":function(e,t,o){var n=o("c6b6"),r=o("9263");e.exports=function(e,t){var o=e.exec;if("function"===typeof o){var a=o.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},3038:function(e,t,o){"use strict";o.d(t,"c",(function(){return r})),o.d(t,"d",(function(){return a})),o.d(t,"e",(function(){return l})),o.d(t,"b",(function(){return c})),o.d(t,"h",(function(){return s})),o.d(t,"g",(function(){return i})),o.d(t,"f",(function(){return u})),o.d(t,"i",(function(){return p})),o.d(t,"a",(function(){return d}));o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d");var n=o("b775");function r(e){Object(n["a"])({url:"/dzyh/manager/getRegistTemp",responseType:"blob",method:"post"}).then((function(t){f(t,e)}))}function a(e,t){Object(n["a"])({url:"/dzyh/manager/userFile",responseType:"blob",method:"post",data:e}).then((function(e){f(e,t)}))}function l(e,t){Object(n["a"])({url:"/dzyh/manager/userInfoFile",responseType:"blob",method:"post",data:e}).then((function(e){f(e,t)}))}function c(e){Object(n["a"])({url:"/dzyh/goods/downLoadGoodsApplyTemplate",responseType:"blob",method:"post"}).then((function(t){f(t,e)}))}function s(e,t){Object(n["a"])({url:"/dzyh/information/underStockFile",responseType:"blob",method:"post",data:e}).then((function(e){f(e,t)}))}function i(e,t){Object(n["a"])({url:"/dzyh/information/informationFile",responseType:"blob",method:"post",data:e}).then((function(e){f(e,t)}))}function u(e,t){Object(n["a"])({url:"/dzyh/goodsApply/generateExcel?fileName=".concat(t),responseType:"blob",method:"post",data:e}).then((function(e){f(e,t)}))}function p(e,t){Object(n["a"])({url:"/dzyh/materialList/generateMaterialListExcel?fileName=".concat(t),responseType:"blob",method:"post",data:e}).then((function(e){f(e,t)}))}function d(){Object(n["a"])({url:"/dzyh/super/exportSQL",responseType:"blob",method:"post"}).then((function(e){f(e,"dzyh.sql")}))}function f(e,t){if(e){var o=new Blob([e]);if("download"in document.createElement("a")){var n=document.createElement("a");n.download=t,n.style.display="none",n.href=URL.createObjectURL(o),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}else navigator.msSaveBlob(o,t)}}},5540:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",{staticStyle:{height:"100%"}},[o("el-main",[o("el-row",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",{attrs:{label:"申请人"}},[o("el-input",{attrs:{placeholder:"申请人"},model:{value:e.form.applyer,callback:function(t){e.$set(e.form,"applyer",t)},expression:"form.applyer"}})],1),o("el-form-item",{attrs:{label:"物品名称"}},[o("el-input",{attrs:{placeholder:"物品名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"规格"}},[o("el-input",{attrs:{placeholder:"规格"},model:{value:e.form.norm,callback:function(t){e.$set(e.form,"norm",t)},expression:"form.norm"}})],1),o("el-form-item",{attrs:{label:"型号"}},[o("el-input",{attrs:{placeholder:"型号"},model:{value:e.form.pattern,callback:function(t){e.$set(e.form,"pattern",t)},expression:"form.pattern"}})],1)],1)],1),o("el-row",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",{attrs:{label:"用途"}},[o("el-select",{attrs:{placeholder:"用途"},model:{value:e.form.use.value,callback:function(t){e.$set(e.form.use,"value",t)},expression:"form.use.value"}},e._l(e.form.use.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"状态"}},[o("el-select",{attrs:{placeholder:"状态"},model:{value:e.form.state.value,callback:function(t){e.$set(e.form.state,"value",t)},expression:"form.state.value"}},e._l(e.form.state.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"类别"}},[o("el-select",{attrs:{placeholder:"类别"},model:{value:e.form.type.value,callback:function(t){e.$set(e.form.type,"value",t)},expression:"form.type.value"}},e._l(e.form.type.options,(function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"审批人"}},[o("el-input",{attrs:{placeholder:"审批人"},model:{value:e.form.checker,callback:function(t){e.$set(e.form,"checker",t)},expression:"form.checker"}})],1)],1)],1),o("el-row",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",{attrs:{label:"选择申请日期"}},[o("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1)],1),o("el-row",[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[o("el-form-item",[o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.search(1)}}},[e._v("查询")])],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",plain:""},on:{click:e.getExcel}},[e._v("导出报表")])],1)],1)],1),o("el-row",[o("el-col",{attrs:{span:20}},[o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData,stripe:""}},[o("el-table-column",{attrs:{prop:"type",label:"类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[e._v(e._s(t.row.remark))]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[o("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.type))])],1)])]}}])}),o("el-table-column",{attrs:{prop:"name",label:"名称"}}),o("el-table-column",{attrs:{prop:"norm",label:"规格"}}),o("el-table-column",{attrs:{prop:"pattern",label:"型号"}}),o("el-table-column",{attrs:{prop:"use",label:"用途"}}),o("el-table-column",{attrs:{prop:"number",label:"数量/个"}}),o("el-table-column",{attrs:{prop:"formdate",label:"领用日期"}}),o("el-table-column",{attrs:{prop:"todate",label:"归还日期"}}),o("el-table-column",{attrs:{prop:"applyer",label:"申请人"}}),o("el-table-column",{attrs:{prop:"checker",label:"审批人"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:t.row.checker.type,plain:""}},[e._v(e._s(t.row.checker.value))])]}}])}),o("el-table-column",{attrs:{prop:"checker_result",label:"审批结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:t.row.checker_result.type,plain:""}},[e._v(e._s(t.row.checker_result.value))])]}}])}),o("el-table-column",{attrs:{prop:"statue",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:t.row.statue.type,plain:""}},[e._v(e._s(t.row.statue.value))])]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(o){return e.handleCheck(t.row)}}}),"5"===e.current_role?o("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(o){return e.handleDelete(t.row)}}}):e._e()]}}])})],1)],1)],1)],1),o("el-footer",[o("el-pagination",{attrs:{background:"","page-size":e.page_size,layout:"prev, pager, next",total:e.total_info},on:{"current-change":e.search}})],1),o("el-dialog",{attrs:{title:"申请确认",visible:e.check.learn.visible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.check.learn,"visible",t)}}},[o("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.check.learn.row.applyer)+"申请,请选择操作")]),o("br"),o("el-radio",{attrs:{label:"1",border:""},model:{value:e.check.learn.value,callback:function(t){e.$set(e.check.learn,"value",t)},expression:"check.learn.value"}},[e._v("通过")]),o("el-radio",{attrs:{label:"2",border:""},model:{value:e.check.learn.value,callback:function(t){e.$set(e.check.learn,"value",t)},expression:"check.learn.value"}},[e._v("拒绝")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.check.learn.visible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.handleLearn}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"归还确认",visible:e.check.ret.visible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.check.ret,"visible",t)}}},[o("span",{staticStyle:{"font-weight":"bold"}},[e._v("已通过"+e._s(e.check.learn.row.applyer)+"借用，请归还确认")]),o("br"),o("el-radio",{attrs:{label:"1",border:""},model:{value:e.check.ret.value,callback:function(t){e.$set(e.check.ret,"value",t)},expression:"check.ret.value"}},[e._v("归还")]),o("el-radio",{attrs:{label:"2",border:""},model:{value:e.check.ret.value,callback:function(t){e.$set(e.check.ret,"value",t)},expression:"check.ret.value"}},[e._v("报废")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.check.ret.visible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.handleRet}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"删除确认",visible:e.del.visible,width:"30%"},on:{"update:visible":function(t){return e.$set(e.del,"visible",t)}}},[o("span",[e._v("确认删除 "),o("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.del.row.applyer))]),e._v("的申请 ")]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.del.visible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.submit_delete}},[e._v("确 定")])],1)])],1)},r=[],a=(o("b0c0"),o("ac1f"),o("841c"),o("c40e")),l=o("c24f"),c=o("3038"),s={name:"GoodsApplyCheck",data:function(){return{user:"",current_role:"",check:{learn:{visible:!1,value:"1",row:""},ret:{visible:!1,value:"1",row:""}},del:{visible:!1,row:""},form:{applyer:"",name:"",norm:"",pattern:"",date:["",""],checker:"",use:{value:"",options:[]},type:{value:"",options:[]},state:{value:"",options:[]}},page_size:5,total_info:5,tableData:[]}},created:function(){var e=this;this.form.use.options=[{value:"竞赛",label:"竞赛"},{value:"实验",label:"实验"},{value:"创新",label:"创新"}],this.form.state.options=[{value:0,label:"待审批"},{value:1,label:"通过"},{value:2,label:"拒绝"}],this.form.type.options=Object(a["m"])(),Object(l["b"])().then((function(t){e.user=t.obj,e.current_role=t.obj.currentRoleId+""})).catch((function(e){console.log(e)}))},methods:{ConvertConditions:function(e){var t={repertoryName:e.name,repertorySize:e.norm,repertoryModel:e.pattern,borrowTime:e.date[0],returnTime:e.date[1],categoryName:e.type.value,purposeName:e.use.value,applyUserName:e.applyer,approvalUserName:e.checker,goodsUseStatus:e.state.value};return t},ConvertTableData:function(e){for(var t={0:{type:"warning",value:"待审批"},1:{type:"success",value:"通过"},2:{type:"danger",value:"拒绝"}},o={0:{value:"借用",type:"primary"},1:{value:"领用",type:"warning"},2:{value:"归还",type:"success"},3:{value:"报废",type:"danger"}},n=[],r=0;r<e.length;r++){var a=e[r];n[r]={applyId:a.orderId,type:a.categoryName,name:a.repertoryName,norm:a.repertorySize,pattern:a.repertoryModel,use:a.purposeName,number:a.repertoryNumbers,formdate:a.borrowTime,todate:a.returnTime,applyer:a.applyUserName,checker:{type:t[a.goodsApprovalStatus].type,value:a.approvalUserName},checker_result:{id:a.goodsApprovalStatus,type:t[a.goodsApprovalStatus].type,value:t[a.goodsApprovalStatus].value},statue:{id:a.goodsUseStatus,type:o[a.goodsUseStatus].type,value:o[a.goodsUseStatus].value},remark:"不知道是啥"}}return n},search:function(e){var t=this,o=this.ConvertConditions(this.form);console.log(o),console.log(e),Object(a["f"])(e,this.page_size,o).then((function(e){console.log(e),t.total_info=e.obj.total,t.tableData=t.ConvertTableData(e.obj.goodsList)})).catch((function(e){console.log(e)}))},getExcel:function(){var e=this.ConvertConditions(this.form);Object(c["f"])(e,"用户申请报表.xlsx")},handleCheck:function(e){"待审批"===e.checker_result.value?(this.check.learn.visible=!0,this.check.learn.row=e):"借用"===e.statue.value&&(this.check.ret.visible=!0,this.check.ret.row=e)},handleLearn:function(){var e,t=this;e="1"===this.check.learn.value?1:2,Object(a["b"])(this.check.learn.row.applyId,this.user.userName,e).then((function(e){t.successMessage(e.resultMessage),t.search(1)})).catch((function(e){console.log(e)}))},handleRet:function(){var e,t=this;e="1"===this.check.ret.value?2:3,Object(a["c"])(this.check.ret.row.applyId,e).then((function(e){t.successMessage(e.resultMessage),t.search(1)})).catch((function(e){console.log(e)}))},handleDelete:function(e){this.del.visible=!0,this.del.row=e},submit_delete:function(){var e=this;Object(a["d"])(this.del.row.applyId).then((function(t){e.successMessage(t.resultMessage),e.search(1)})).catch((function(e){console.log(e)})),console.log("delete"+this.del.row)},errorMessage:function(e){this.$message({message:e,type:"warning"})},successMessage:function(e){this.$message({message:e,type:"success"})}}},i=s,u=o("2877"),p=Object(u["a"])(i,n,r,!1,null,"8c32fe7e",null);t["default"]=p.exports},"841c":function(e,t,o){"use strict";var n=o("d784"),r=o("825a"),a=o("1d80"),l=o("129f"),c=o("14c3");n("search",1,(function(e,t,o){return[function(t){var o=a(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,o):new RegExp(t)[e](String(o))},function(e){var n=o(t,e,this);if(n.done)return n.value;var a=r(e),s=String(this),i=a.lastIndex;l(i,0)||(a.lastIndex=0);var u=c(a,s);return l(a.lastIndex,i)||(a.lastIndex=i),null===u?-1:u.index}]}))},9263:function(e,t,o){"use strict";var n=o("ad6d"),r=o("9f7f"),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,s=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),i=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],p=s||u||i;p&&(c=function(e){var t,o,r,c,p=this,d=i&&p.sticky,f=n.call(p),m=p.source,h=0,b=e;return d&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),b=String(e).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==e[p.lastIndex-1])&&(m="(?: "+m+")",b=" "+b,h++),o=new RegExp("^(?:"+m+")",f)),u&&(o=new RegExp("^"+m+"$(?!\\s)",f)),s&&(t=p.lastIndex),r=a.call(d?o:p,b),d?r?(r.input=r.input.slice(h),r[0]=r[0].slice(h),r.index=p.lastIndex,p.lastIndex+=r[0].length):p.lastIndex=0:s&&r&&(p.lastIndex=p.global?r.index+r[0].length:t),u&&r&&r.length>1&&l.call(r[0],o,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(r[c]=void 0)})),r}),e.exports=c},"9f7f":function(e,t,o){"use strict";var n=o("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,o){"use strict";var n=o("23e7"),r=o("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,o){"use strict";var n=o("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c40e:function(e,t,o){"use strict";o.d(t,"i",(function(){return r})),o.d(t,"j",(function(){return a})),o.d(t,"h",(function(){return l})),o.d(t,"n",(function(){return c})),o.d(t,"e",(function(){return s})),o.d(t,"a",(function(){return i})),o.d(t,"d",(function(){return u})),o.d(t,"f",(function(){return p})),o.d(t,"g",(function(){return d})),o.d(t,"b",(function(){return f})),o.d(t,"c",(function(){return m})),o.d(t,"k",(function(){return h})),o.d(t,"l",(function(){return b})),o.d(t,"m",(function(){return v}));o("99af");var n=o("b775");function r(e){return Object(n["a"])({url:"/dzyh/goods/insert",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function a(e,t,o){return Object(n["a"])({url:"/dzyh/information/selectAllByCondition/".concat(e,"/").concat(t),method:"post",data:o,headers:{"Content-Type":"application/json"}})}function l(e){return Object(n["a"])({url:"/dzyh/information/deleteInformationById",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function c(e){return Object(n["a"])({url:"/dzyh/information/updateInformation",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function s(e){return Object(n["a"])({url:"/dzyh/goodsApply/scrapApply",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function i(e){return Object(n["a"])({url:"/dzyh/goodsApply/goodsApply",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function u(e){return Object(n["a"])({url:"/dzyh/goodsApply/deleteByGoodsApplyId?orderId=".concat(e),method:"post",headers:{"Content-Type":"application/json"}})}function p(e,t,o){return Object(n["a"])({url:"/dzyh/goodsApply/selectAllByPage/".concat(e,"/").concat(t),method:"post",data:o,headers:{"Content-Type":"application/json"}})}function d(e,t,o){return Object(n["a"])({url:"/dzyh/goodsApply/selectPersonalByPage/".concat(e,"/").concat(t),method:"post",data:o,headers:{"Content-Type":"application/json"}})}function f(e,t,o){return Object(n["a"])({url:"/dzyh/goodsApply/doNormalGoodsApplyApprove?orderId=".concat(e,"&approvalUserName=").concat(t,"&goodsApprovalStatus=").concat(o),method:"post",headers:{"Content-Type":"application/json"}})}function m(e,t){return Object(n["a"])({url:"/dzyh/goodsApply/doSpecialGoodsApplyApprove?orderId=".concat(e,"&goodsUseStatus=").concat(t),method:"post",headers:{"Content-Type":"application/json"}})}function h(e){return Object(n["a"])({url:"/dzyh/category/insertCategory",method:"post",data:e,headers:{"Content-Type":"application/json"}})}function b(e){return Object(n["a"])({url:"/dzyh/category/deleteCategoryById?categoryId=".concat(e),method:"get",headers:{"Content-Type":"application/json"}})}function v(){var e=[];return Object(n["a"])({url:"/dzyh/category/selectAllCategory",method:"post",headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t);for(var o=0;o<t.obj.length;o++)e.push({id:t.obj[o].categoryId,value:t.obj[o].categoryName,label:t.obj[o].categoryName})})).catch((function(e){console.log("出错"+e)})),e}},d784:function(e,t,o){"use strict";o("ac1f");var n=o("6eeb"),r=o("d039"),a=o("b622"),l=o("9263"),c=o("9112"),s=a("species"),i=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),p=a("replace"),d=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),f=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var o="ab".split(e);return 2!==o.length||"a"!==o[0]||"b"!==o[1]}));e.exports=function(e,t,o,p){var m=a(e),h=!r((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),b=h&&!r((function(){var t=!1,o=/a/;return"split"===e&&(o={},o.constructor={},o.constructor[s]=function(){return o},o.flags="",o[m]=/./[m]),o.exec=function(){return t=!0,null},o[m](""),!t}));if(!h||!b||"replace"===e&&(!i||!u||d)||"split"===e&&!f){var v=/./[m],y=o(m,""[e],(function(e,t,o,n,r){return t.exec===l?h&&!r?{done:!0,value:v.call(t,o,n)}:{done:!0,value:e.call(o,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),g=y[0],k=y[1];n(String.prototype,e,g),n(RegExp.prototype,m,2==t?function(e,t){return k.call(e,this,t)}:function(e){return k.call(e,this)})}p&&c(RegExp.prototype[m],"sham",!0)}}}]);